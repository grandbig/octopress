---
layout: post
title: "iPhone実機でSQLiteで作成したDBを参照しよう"
date: 2013-09-30 00:39
comments: true
categories: ios SQLite
---

###iPhone実機でのDB参照方法をマスターしよう！
本日はiPhone実機でのSQLiteで作成したDBの参照方法について説明したいと思います。  
シミュレータの場合は結構書いてあったのですが、実機では見つかりにくかったり、情報がばらついていたりしたのでメモ程度に書きます。  

<!--more-->

####Litaをインストール
LitaとはSQLiteのデータベース管理ツールです。GUIなので操作も参照しやすいですし、もちろんスリーソフトです。  
[公式ページ](http://www.dehats.com/drupal/?q=node/58)からインストールしましょう。インストール方法については多くのページで詳しく書かれているので簡単に紹介する程度にします。  

＜Litaインストール手順＞  
①公式ページにアクセス  
②Install Nowと書かれているボックスをクリック  
③他のソフト同様、ドラッグ&ドロップでLitaをApplicationフォルダに持っていく  
④Launchpadをクリックして、その中のLitaをクリックする  
⑤案内に沿って進めればインストール完了  

####iPhone実機からアプリ内データをダウンロード
シミュレータであれば、**/Users/ユーザ名/Library/Application Support/iPhone Simulator/使用シミュレータのバージョン/Applications/適当な文字列/Documents/直下**にdbがあります。パスの中で途中、適当な文字列と書きましたが、これは勝手に作成されるフォルダのため、文字列が何になるかはわかりません。参照したいアプリがどのフォルダにあるかは１つ１つ中身を見てappファイル名を見るようにしています。  
実機の場合はPC上にdbが作られるわけではなく、実機の中に作られるので、実機からデータをダウンロードしてくる必要があります。その手順を説明します。  

＜実機からデータをダウンロードする手順＞  
①Xcodeを起動  
②Window > Organizerを起動  
③参照したい端末 > Applications > 該当アプリを選択  
④フッターからDownloadを選択  
⑤拡張子がxcappdataのファイルをダウンロードできる  

![XcodeのOrganizerを開いて実機のデータをダウンロード](/images/xcode_organizer1.png)  

このファイルはパッケージなので、右クリックで「パッケージの内容を表示」を選択することで中身が確認できます。  
中身はAppDataフォルダとAppDataInfo.plistファイルが入っています。  
DBは**AppData/Documents/直下**にあります。これを先ほど紹介したLitaで開けば実機の指定アプリが作成したDBを参照することができます。  

筆者は上記の方法でDB内データを確かめながら進めていますが、とても便利です。むしろ今まで知らなかったので何となくDBうまくいってそうだなと思いながらやっていましたが、きちんと確認すべきですね...。  

